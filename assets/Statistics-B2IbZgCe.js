const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/WeeklyChart-3Sxiz9P3.js","assets/index-H5eLpdEA.js","assets/index-bf58dsjo.css","assets/generateCategoricalChart-Dij2mMTD.js","assets/AreaChart-LUUEs459.js","assets/trending-up-C2EPqjgO.js","assets/zap-Dyk872CS.js","assets/AccuracyChart-BxXEXOgc.js"])))=>i.map(i=>d[i]);
import{c as T,j as e,m as t,r as l,_ as v,u as $,e as I,f as B}from"./index-H5eLpdEA.js";import{a as M,u as R,A as j}from"./useGamification-BtiiQjBl.js";import{S as c}from"./StatCard-CCVXhw6G.js";import{L as f}from"./LanguageSelector-CqqKwcb1.js";import{X as O}from"./XpBar-BK9iqufC.js";import{L as q}from"./lock-CvGkphJX.js";import{T as D}from"./trending-up-C2EPqjgO.js";import{T as P}from"./target-DMQ4a0xl.js";import{C as V}from"./calendar-CiKTSD-o.js";import{F}from"./flame-VQLHS8Fr.js";import"./chevron-down-dSV5BqrI.js";import"./progress-D-FsW8vX.js";import"./trash-2-CThAXJrU.js";import"./zap-Dyk872CS.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=T("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]),G=({achievement:a,unlocked:i,delay:u=0})=>e.jsxs(t.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:u},className:`relative p-4 rounded-2xl text-center transition-all ${i?"bg-card shadow-card hover:shadow-elevated":"bg-muted/50 opacity-60"}`,children:[e.jsx("div",{className:`text-4xl mb-2 ${!i&&"grayscale"}`,children:i?a.icon:e.jsx(q,{className:"w-8 h-8 mx-auto text-muted-foreground"})}),e.jsx("h4",{className:`font-semibold text-sm mb-1 ${i?"text-foreground":"text-muted-foreground"}`,children:a.name}),e.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:a.description}),i&&e.jsx(t.div,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 w-5 h-5 bg-primary rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-xs",children:"âœ“"})})]}),H=l.lazy(()=>v(()=>import("./WeeklyChart-3Sxiz9P3.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),J=l.lazy(()=>v(()=>import("./AccuracyChart-BxXEXOgc.js"),__vite__mapDeps([7,1,2,3]))),b=()=>e.jsxs("div",{className:"bg-card rounded-3xl shadow-card p-6 animate-pulse",children:[e.jsx("div",{className:"h-6 w-32 bg-muted rounded mb-4"}),e.jsx("div",{className:"h-[200px] bg-muted rounded-xl"})]}),N=l.memo(()=>e.jsx(l.Suspense,{fallback:e.jsx(b,{}),children:e.jsx(H,{})}));N.displayName="LazyWeeklyChart";const w=l.memo(({correct:a,incorrect:i})=>e.jsx(l.Suspense,{fallback:e.jsx(b,{}),children:e.jsx(J,{correct:a,incorrect:i})}));w.displayName="LazyAccuracyChart";const ne=()=>{const{t:a}=$(),{activeLanguage:i,isLoading:u}=I(),{stats:d,getBoxCounts:h,words:x,isLoading:_}=M(),{achievements:g,level:L,xp:Q}=R(),o=l.useMemo(()=>h(),[h]),p=l.useMemo(()=>Object.values(o).reduce((s,r)=>s+r,0),[o]),{totalReviews:C,totalCorrect:A,totalIncorrect:k,overallAccuracy:z,masteredWords:E}=l.useMemo(()=>{const s=x.reduce((n,m)=>n+m.times_reviewed,0),r=x.reduce((n,m)=>n+m.times_correct,0),y=x.reduce((n,m)=>n+m.times_incorrect,0),S=s>0?Math.round(r/s*100):0,W=o[5];return{totalReviews:s,totalCorrect:r,totalIncorrect:y,overallAccuracy:S,masteredWords:W}},[x,o]);return _||u?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-pulse-soft text-muted-foreground",children:a("loading")})}):i?e.jsx("div",{className:"min-h-screen pb-24 md:pt-24 md:pb-8",children:e.jsxs("div",{className:"container mx-auto px-4 py-6",children:[e.jsxs(t.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6",children:[e.jsxs("h1",{className:"font-display font-bold text-3xl text-foreground mb-2",children:[a("statistics")," ðŸ“Š"]}),e.jsx("p",{className:"text-muted-foreground",children:"Sizning o'rganish natijalaringiz"})]}),e.jsx(t.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.05},className:"mb-6",children:e.jsx(O,{})}),e.jsx(t.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"mb-6",children:e.jsx(f,{showAddNew:!1})}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-8",children:[e.jsx(c,{icon:B,label:a("totalWords"),value:p,delay:.15}),e.jsx(c,{icon:X,label:"O'zlashtirilgan",value:E,subtext:`(${a("box")} 5)`,delay:.2}),e.jsx(c,{icon:D,label:a("accuracy"),value:`${z}%`,delay:.25}),e.jsx(c,{icon:P,label:a("reviewsToday"),value:d.today_reviewed,delay:.3}),e.jsx(c,{icon:V,label:"Jami takrorlar",value:C,delay:.35}),e.jsx(c,{icon:F,label:a("streak"),value:d.streak,subtext:"kun",gradient:!0,delay:.4})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[e.jsx(N,{}),e.jsx(w,{correct:A,incorrect:k})]}),e.jsxs(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.45},className:"bg-card rounded-3xl shadow-card p-6 mb-8",children:[e.jsx("h3",{className:"font-display font-semibold text-lg mb-6",children:"Qutilar bo'yicha taqsimot"}),e.jsx("div",{className:"space-y-4",children:[1,2,3,4,5].map(s=>{const r=o[s],y=p>0?r/p*100:0;return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"font-medium",children:[a("box")," ",s]}),e.jsxs("span",{className:"text-muted-foreground",children:[r," so'z"]})]}),e.jsx("div",{className:"h-3 bg-muted rounded-full overflow-hidden",children:e.jsx(t.div,{initial:{width:0},animate:{width:`${y}%`},transition:{duration:.5,delay:.1*s},className:"h-full rounded-full",style:{backgroundColor:`hsl(var(--box-${s}))`}})})]},s)})})]}),e.jsxs(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-card rounded-3xl shadow-card p-6 mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"font-display font-semibold text-lg",children:"Yutuqlar ðŸ†"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[g.length,"/",j.length," ochilgan"]})]}),e.jsx("div",{className:"grid grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:j.map((s,r)=>e.jsx(G,{achievement:s,unlocked:g.includes(s.id),delay:.05*r},s.id))})]}),e.jsxs(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.55},className:"bg-gradient-to-br from-primary/10 to-secondary/10 rounded-3xl p-6",children:[e.jsx("h3",{className:"font-display font-semibold text-lg mb-4",children:"Bugungi natija"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-card/50 rounded-2xl",children:[e.jsx("p",{className:"font-display font-bold text-3xl text-primary",children:d.today_reviewed}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"takrorlangan"})]}),e.jsxs("div",{className:"text-center p-4 bg-card/50 rounded-2xl",children:[e.jsx("p",{className:"font-display font-bold text-3xl text-primary",children:d.today_reviewed>0?`${Math.round(d.today_correct/d.today_reviewed*100)}%`:"â€”"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"aniqlik"})]}),e.jsxs("div",{className:"text-center p-4 bg-card/50 rounded-2xl",children:[e.jsx("p",{className:"font-display font-bold text-3xl text-primary",children:L}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"daraja"})]})]})]})]})}):e.jsx("div",{className:"min-h-screen pb-24 md:pt-24 md:pb-8",children:e.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-md",children:[e.jsxs(t.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-8 text-center",children:[e.jsxs("h1",{className:"font-display font-bold text-3xl text-foreground mb-2",children:[a("statistics")," ðŸ“Š"]}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Avval o'rganish tilini tanlang"})]}),e.jsx(f,{})]})})};export{ne as default};
