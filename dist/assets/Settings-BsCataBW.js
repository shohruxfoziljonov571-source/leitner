import{c as y,r as d,j as e,m as r,P as k,B as f,h as O,b as N,u as D,a as L,F as B,L as q,g as E}from"./index-H5eLpdEA.js";import{I}from"./input-CTxYhRwj.js";import{u as H,F as M}from"./useCategories-Ct9n2UPI.js";import{D as P,a as K,b as $,c as F,d as R}from"./dialog-DtFkyyB7.js";import{T as _}from"./trash-2-CThAXJrU.js";import{B as z,a as b,S as A}from"./switch-CtfY_V3O.js";import{L as J}from"./label-B269C1Du.js";import{U as Q}from"./user-BPHk8Q2t.js";import"./index-DuMAhUlO.js";import"./index-tqWPnzjf.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=y("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=y("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=y("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=y("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=y("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=y("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]),Z=["ðŸ“","ðŸ ","ðŸ’¼","âœˆï¸","ðŸ½ï¸","ðŸ¥","âš½","ðŸ‘•","ðŸ’»","ðŸŽµ","ðŸ“š","ðŸŽ¬","ðŸ›’","ðŸ’°","ðŸŽ®","ðŸŒ"],G=({selectedCategory:c,onSelectCategory:n,mode:t="select"})=>{const{categories:l,isLoading:o,addCategory:h,deleteCategory:m,initializeDefaultCategories:x}=H(),[j,p]=d.useState(!1),[u,s]=d.useState(""),[i,g]=d.useState("ðŸ“"),v=async()=>{u.trim()&&(await h({name:u.trim(),icon:i,color:`hsl(${Math.random()*360}, 70%, 50%)`}),s(""),g("ðŸ“"),p(!1))};return o?e.jsx("div",{className:"animate-pulse h-10 bg-muted rounded-xl"}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(r.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>n==null?void 0:n(null),className:`px-4 py-2 rounded-full text-sm font-medium transition-all flex items-center gap-2 ${c===null?"bg-primary text-primary-foreground shadow-md":"bg-muted hover:bg-muted/80 text-foreground"}`,children:[e.jsx(M,{className:"w-4 h-4"}),"Hammasi"]}),l.map(a=>e.jsxs(r.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>n==null?void 0:n(a.id),className:`px-4 py-2 rounded-full text-sm font-medium transition-all flex items-center gap-2 ${c===a.id?"bg-primary text-primary-foreground shadow-md":"bg-muted hover:bg-muted/80 text-foreground"}`,children:[e.jsx("span",{children:a.icon}),a.name]},a.id)),e.jsxs(P,{open:j,onOpenChange:p,children:[e.jsx(K,{asChild:!0,children:e.jsxs(r.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 rounded-full text-sm font-medium bg-primary/10 text-primary hover:bg-primary/20 transition-all flex items-center gap-2",children:[e.jsx(k,{className:"w-4 h-4"}),"Yangi"]})}),e.jsxs($,{className:"sm:max-w-md",children:[e.jsx(F,{children:e.jsx(R,{children:"Yangi kategoriya"})}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-muted flex items-center justify-center text-2xl",children:i}),e.jsx(I,{placeholder:"Kategoriya nomi",value:u,onChange:a=>s(a.target.value),className:"flex-1"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Emoji tanlang:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Z.map(a=>e.jsx("button",{onClick:()=>g(a),className:`w-10 h-10 rounded-lg text-xl flex items-center justify-center transition-all ${i===a?"bg-primary text-primary-foreground":"bg-muted hover:bg-muted/80"}`,children:a},a))})]}),e.jsxs(f,{onClick:v,className:"w-full gap-2",children:[e.jsx(O,{className:"w-4 h-4"}),"Qo'shish"]})]})]})]})]}),l.length===0&&e.jsxs(r.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 rounded-xl bg-primary/5 border border-primary/10",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Kategoriyalar hali yo'q. Standart kategoriyalarni qo'shishni xohlaysizmi?"}),e.jsxs(f,{variant:"outline",size:"sm",onClick:x,className:"gap-2",children:[e.jsx(k,{className:"w-4 h-4"}),"Standart kategoriyalarni qo'shish"]})]}),t==="manage"&&l.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Kategoriyalarni boshqarish:"}),e.jsx("div",{className:"space-y-2",children:l.map(a=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl bg-muted/50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-xl",children:a.icon}),e.jsx("span",{className:"font-medium",children:a.name})]}),e.jsx(f,{variant:"ghost",size:"icon",onClick:()=>m(a.id),className:"text-destructive hover:text-destructive hover:bg-destructive/10",children:e.jsx(_,{className:"w-4 h-4"})})]},a.id))})]})]})},W=()=>{const[c,n]=d.useState(!1),[t,l]=d.useState("default"),[o,h]=d.useState({enabled:!1,time:"09:00"});d.useEffect(()=>{"Notification"in window&&(n(!0),l(Notification.permission));const s=localStorage.getItem("notification_settings");if(s)try{h(JSON.parse(s))}catch(i){console.error("Error parsing notification settings:",i)}},[]);const m=d.useCallback(async()=>{if(!c)return N.error("Brauzeringiz bildirishnomalarni qo'llab-quvvatlamaydi"),!1;try{const s=await Notification.requestPermission();return l(s),s==="granted"?(N.success("Bildirishnomalar yoqildi!"),!0):(s==="denied"&&N.error("Bildirishnomalar rad etildi"),!1)}catch(s){return console.error("Error requesting notification permission:",s),!1}},[c]),x=d.useCallback((s,i,g=0)=>{t==="granted"&&setTimeout(()=>{new Notification(s,{body:i,icon:"/favicon.ico",badge:"/favicon.ico",tag:"leitner-reminder",requireInteraction:!0})},g)},[t]),j=d.useCallback(s=>{const i={...o,...s};h(i),localStorage.setItem("notification_settings",JSON.stringify(i)),i.enabled&&t==="granted"&&p(i.time)},[o,t]),p=d.useCallback(s=>{const[i,g]=s.split(":").map(Number),v=new Date,a=new Date;a.setHours(i,g,0,0),a<=v&&a.setDate(a.getDate()+1);const w=a.getTime()-v.getTime();localStorage.setItem("next_reminder",a.toISOString()),w<24*60*60*1e3&&setTimeout(()=>{x("Takrorlash vaqti! ðŸ“š","So'zlaringizni takrorlash vaqti keldi. O'rganishni davom eting!")},w)},[x]),u=d.useCallback(()=>{if(t!=="granted"){N.error("Avval ruxsat bering");return}x("Test bildirish ðŸŽ‰","Bildirishnomalar to'g'ri ishlayapti!")},[t,x]);return{isSupported:c,permission:t,settings:o,requestPermission:m,updateSettings:j,scheduleNotification:x,testNotification:u}},X=()=>{const{isSupported:c,permission:n,settings:t,requestPermission:l,updateSettings:o,testNotification:h}=W();return c?e.jsxs("div",{className:"space-y-4",children:[n==="default"&&e.jsxs(r.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 rounded-xl bg-primary/10 border border-primary/20",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(b,{className:"w-5 h-5 text-primary"}),e.jsx("p",{className:"text-sm font-medium",children:"Bildirishnomalarni yoqish"})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Kunlik eslatmalar olish uchun ruxsat bering"}),e.jsx(f,{onClick:l,size:"sm",className:"w-full",children:"Ruxsat berish"})]}),n==="denied"&&e.jsxs("div",{className:"p-4 rounded-xl bg-destructive/10 border border-destructive/20",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(z,{className:"w-5 h-5 text-destructive"}),e.jsx("p",{className:"text-sm font-medium text-destructive",children:"Ruxsat rad etilgan"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Brauzer sozlamalaridan bildirishnomalarni yoqing"})]}),n==="granted"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-muted/50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(b,{className:"w-5 h-5 text-primary"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Kunlik eslatmalar"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Takrorlash vaqtini eslatish"})]})]}),e.jsx(A,{checked:t.enabled,onCheckedChange:m=>o({enabled:m})})]}),t.enabled&&e.jsxs(r.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"p-4 rounded-xl bg-muted/50",children:[e.jsx(J,{className:"text-sm font-medium mb-2 block",children:"Eslatma vaqti"}),e.jsx(I,{type:"time",value:t.time,onChange:m=>o({time:m.target.value}),className:"w-full"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Har kuni shu vaqtda eslatma olasiz"})]}),e.jsxs(f,{variant:"outline",size:"sm",onClick:h,className:"w-full gap-2",children:[e.jsx(V,{className:"w-4 h-4"}),"Test bildirish"]})]})]}):e.jsxs("div",{className:"p-4 rounded-xl bg-muted/50 text-center",children:[e.jsx(z,{className:"w-8 h-8 mx-auto mb-2 text-muted-foreground"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Brauzeringiz bildirishnomalarni qo'llab-quvvatlamaydi"})]})},oe=()=>{const{t:c,language:n,setLanguage:t}=D(),{user:l,signOut:o}=L(),{theme:h,setTheme:m,resolvedTheme:x}=B(),j=[{code:"uz",name:"O'zbekcha",flag:"ðŸ‡ºðŸ‡¿"},{code:"ru",name:"Ð ÑƒÑÑÐºÐ¸Ð¹",flag:"ðŸ‡·ðŸ‡º"},{code:"en",name:"English",flag:"ðŸ‡¬ðŸ‡§"}],p=[{value:"light",label:"Yorug'",icon:S},{value:"dark",label:"Qorong'i",icon:C},{value:"system",label:"Tizim",icon:U}],u=async()=>{confirm("Hisobdan chiqmoqchimisiz?")&&(await o(),N.success("Hisobdan chiqdingiz"))};return e.jsx("div",{className:"min-h-screen pb-24 md:pt-24 md:pb-8",children:e.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-lg",children:[e.jsxs(r.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-8",children:[e.jsxs("h1",{className:"font-display font-bold text-3xl text-foreground mb-2",children:[c("settings")," âš™ï¸"]}),e.jsx("p",{className:"text-muted-foreground",children:"Ilovani sozlash"})]}),e.jsx(q,{to:"/profile",children:e.jsx(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05},className:"bg-card rounded-2xl shadow-card p-5 mb-4 hover:shadow-elevated transition-shadow cursor-pointer",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-full gradient-primary flex items-center justify-center",children:e.jsx(Q,{className:"w-6 h-6 text-primary-foreground"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium",children:l==null?void 0:l.email}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Profilni ko'rish â†’"})]})]})})}),e.jsxs(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-card rounded-2xl shadow-card p-5 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-secondary/10 flex items-center justify-center",children:x==="dark"?e.jsx(C,{className:"w-5 h-5 text-secondary"}):e.jsx(S,{className:"w-5 h-5 text-secondary"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:"Mavzu"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ilova ko'rinishini tanlang"})]})]}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:p.map(s=>{const i=s.icon;return e.jsxs("button",{onClick:()=>m(s.value),className:`p-3 rounded-xl text-center transition-all flex flex-col items-center gap-2 ${h===s.value?"bg-primary text-primary-foreground":"bg-muted hover:bg-muted/80"}`,children:[e.jsx(i,{className:"w-5 h-5"}),e.jsx("span",{className:"text-xs font-medium",children:s.label})]},s.value)})})]}),e.jsxs(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},className:"bg-card rounded-2xl shadow-card p-5 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary/10 flex items-center justify-center",children:e.jsx(E,{className:"w-5 h-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:c("interfaceLanguage")}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ilova tilini tanlang"})]})]}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:j.map(s=>e.jsxs("button",{onClick:()=>t(s.code),className:`p-3 rounded-xl text-center transition-all ${n===s.code?"bg-primary text-primary-foreground":"bg-muted hover:bg-muted/80"}`,children:[e.jsx("span",{className:"text-2xl block mb-1",children:s.flag}),e.jsx("span",{className:"text-xs font-medium",children:s.name})]},s.code))})]}),e.jsxs(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-card rounded-2xl shadow-card p-5 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-accent/10 flex items-center justify-center",children:e.jsx(M,{className:"w-5 h-5 text-accent"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:"Kategoriyalar"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"So'zlarni guruhlang"})]})]}),e.jsx(G,{mode:"manage"})]}),e.jsxs(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.25},className:"bg-card rounded-2xl shadow-card p-5 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary/10 flex items-center justify-center",children:e.jsx(b,{className:"w-5 h-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:"Bildirishnomalar"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Kunlik eslatmalar"})]})]}),e.jsx(X,{})]}),e.jsx(q,{to:"/about",children:e.jsx(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.25},className:"bg-card rounded-2xl shadow-card p-5 mb-4 hover:shadow-elevated transition-shadow cursor-pointer",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-accent/10 flex items-center justify-center",children:e.jsx(Y,{className:"w-5 h-5 text-accent"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium",children:"Leitner tizimi haqida"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Qanday ishlaydi, qanday foydalanish â†’"})]})]})})}),e.jsxs(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-destructive/5 border border-destructive/20 rounded-2xl p-5",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-destructive/10 flex items-center justify-center",children:e.jsx(T,{className:"w-5 h-5 text-destructive"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-destructive",children:"Hisobdan chiqish"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Ilovadan chiqish"})]})]}),e.jsxs(f,{variant:"outline",onClick:u,className:"w-full border-destructive text-destructive hover:bg-destructive hover:text-destructive-foreground",children:[e.jsx(T,{className:"w-4 h-4 mr-2"}),"Chiqish"]})]}),e.jsx(r.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.35},className:"text-center text-sm text-muted-foreground mt-8",children:"Leitner tizimi bilan samarali o'rganing ðŸš€"})]})})};export{oe as default};
